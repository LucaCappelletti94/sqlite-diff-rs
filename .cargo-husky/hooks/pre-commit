#!/bin/sh
set -e

echo "Running cargo fmt check..."
cargo fmt --check

echo "Running cargo clippy..."
cargo clippy --all-features --all-targets -- -D warnings

echo "Running benchmark tests..."
cargo test --benches --all-features

echo "Validating SVG files..."
for svg in $(find . -name "*.svg" -type f -not -path "./target/*"); do
    xmllint --noout "$svg" || exit 1
done

echo "All pre-commit checks passed!"
